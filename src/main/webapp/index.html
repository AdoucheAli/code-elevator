<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="lib/easeljs-0.6.0.min.js"></script>
    <script type="text/javascript" src="lib/tweenjs-0.4.0.min.js"></script>
    <script>
        const NUMBER_OF_FLOORS = 6;
        const LINE_COLOR = 'rgb(96, 96, 96)';
        var stage;
        var elevator;

        document.onkeydown = function (e) {
            if (e.keyCode == 38) {
                elevator.move(1);
            } else if (e.keyCode == 40) {
                elevator.move(-1);
            }
        }

        function init(canvasId) {
            stage = new createjs.Stage(canvasId);

            for (var floorNumber = 1; floorNumber <= NUMBER_OF_FLOORS; floorNumber++) {
                drawFloor(floorNumber, stage);
            }

            drawElevator(stage);

            elevator.move = function (direction) {
                createjs.Tween.get(elevator, {}).to({y: elevator.y + elevatorHeight() * -direction}, 1000, createjs.Ease.sineInOut);
            }

            createjs.Ticker.addEventListener("tick", stage);
            createjs.Ticker.setFPS(30);
            createjs.Ticker.useRAF = true;
        }

        function drawFloor(floorNumber, stage) {
            var x = Math.floor(stage.canvas.width * .25);
            var y = Math.floor(elevatorHeight() * floorNumber);

            var floor = new createjs.Graphics().beginStroke(LINE_COLOR)
                    .moveTo(x, y)
                    .lineTo(stage.canvas.width, y)
                    .endStroke();

            stage.addChild(new createjs.Shape(floor));
        }

        function drawElevator(stage) {
            var x = Math.floor(stage.canvas.width * .05);
            var y = stage.canvas.height - elevatorHeight();
            var rect = new createjs.Graphics().beginStroke(LINE_COLOR).drawRect(
                    x,
                    y,
                    Math.floor(stage.canvas.width * .2),
                    elevatorHeight()
            );
            elevator = new createjs.Shape(rect);

            stage.addChild(elevator);
        }

        function elevatorHeight() {
            return stage.canvas.height / (NUMBER_OF_FLOORS + 1);
        }
    </script>
    <style type="text/css">
        body {
            background-color: rgb(57, 57, 57);
        }
    </style>
</head>
<body onload="init('elevator');">
<canvas id="elevator" width="200" height="300">
    elevator
</canvas>
</body>
</html>